# å»ºé€ è€…æ¨¡å¼
å»ºé€ è€…æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œå¯ä»¥åˆ†æ­¥éª¤çš„åˆ›å»º**å¤æ‚å¯¹è±¡**ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨ç›¸åŒçš„åˆ›å»ºä»£ç ç”Ÿæˆä¸åŒå½¢å¼çš„å¯¹è±¡

## å»ºé€ è€…æ¨¡å¼è§£å†³äº†å“ªäº›é—®é¢˜
å»ºé€ è€…æ¨¡å¼å¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆ†æ­¥éª¤çš„åˆ›å»ºå¤æ‚çš„å¯¹è±¡ï¼Œå¯ä»¥å°†å¤æ‚æ„é€ ä»£ç ä»ä¸šåŠ¡é€»è¾‘ä¸­
åˆ†ç¦»å‡ºæ¥ï¼Œé‚£ä¹ˆä½•ä¸ºå¤æ‚å¯¹è±¡å‘¢ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥newå‘¢ï¼Ÿ  
æ—¢ç„¶æ˜¯å»ºé€ è€…ï¼Œè¿™é‡Œç”¨ä¸€ä¸ªå»ºæˆ¿å­çš„ä¾‹å­æ¥è¯´æ˜ï¼Œä¸‹é¢æœ‰ä¸€ä¸ªğŸ¡ æˆ¿å­ç±»å¸®åŠ©å¤§å®¶å»ºé€ ä¸€ä¸ªå¿ƒä»ªçš„å¤§æˆ¿å­
```Java
package com.ymplans.patterns.builder;

/**
 * å¤§æˆ¿å­ç±»
 *
 * @author Jos
 */
public class House {

    // é¢ç§¯
    private Double area;

    // æ¥¼å±‚
    private Integer floor;

    // ææ–™
    private String material;

    // ä¸­å¤®ç©ºè°ƒ
    private Boolean centerAir;
    
    // ....
}
```
æˆ¿å­æœ‰ä¸€äº›å¿…è¦å‚æ•°ï¼Œæ¯”å¦‚å¤šå¤§é¢ç§¯ï¼Œå»ºå‡ å±‚æ¥¼ï¼Œä»€ä¹ˆææ–™å»º...ï¼Œä»¥åŠéå¿…è¦å‚æ•°æ˜¯å¦å®‰è£…ä¸­å¤®ç©ºè°ƒ...å½“ç„¶ä¸€ä¸ªæˆ¿å­æ‰€éœ€è¦çš„å‚æ•°è‚¯å®šä¸æ­¢è¿™å‡ ä¸ªï¼Œæ¯•ç«Ÿæˆ‘è¿˜æƒ³åœ¨äºŒåå¹³ç±³çš„åºŠä¸Šé†’æ¥ï¼Œè¿˜èƒ½ä¸€å¤´æ‰è¿›ä¸¤ç™¾å¹³ç±³çš„æ¸¸æ³³æ± ä¸­ï¼Œè¿™å‡ ä¸ªå‚æ•°é™åˆ¶ä¸äº†æˆ‘ä»¬çš„æƒ³è±¡åŠ›ã€‚æ‰€ä»¥newçš„æ—¶å€™ä¹Ÿå°±é€ æˆäº†æ„é€ å‚æ•°éå¸¸çš„å¤šï¼Œå°±ç®—æŠŠä¸€äº›å‚æ•°å°è£…èµ·æ¥æ§åˆ¶æ„é€ å‚æ•°çš„æ•°é‡ï¼Œä½†æ˜¯æœ‰äº›å‚æ•°å¹¶ä¸ä¸€å®šæ˜¯éœ€è¦çš„ï¼Œæ‰€ä»¥ä¸ºäº†æ»¡è¶³æ‰€æœ‰äººçš„è¦æ±‚ï¼Œæ„é€ å‡½æ•°ä¹Ÿå¿…ç„¶ä¼šéå¸¸çš„å¤šã€‚  
ä¸ºäº†æ§åˆ¶æ„é€ å‡½æ•°å’Œå…¶å‚æ•°çš„ä¸ªæ•°ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ä¸€äº›å˜é‡åœ¨åˆ›å»ºåå»set, æ¯”å¦‚äºŒåå¹³ç±³çš„åºŠå¯ä»¥åæ¥å†setè¿›å»ã€‚è¿™æ ·å¯ä»¥å˜æˆæ„é€ å‡½æ•°è®¾ç½®å¿…å¡«é¡¹ï¼Œsetæ–¹æ³•è®¾ç½®å¯é€‰é…é¡¹ï¼Œå°±èƒ½æ»¡è¶³æˆ¿å­çš„è®¾è®¡éœ€æ±‚ã€‚ç„¶è€Œå»ºé€ æˆ¿å­å¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•ï¼Œå‡å¦‚å‡ºç°ä¸‹é¢ä¸‰ä¸ªé—®é¢˜
- å¿…è¦å‚æ•°è¿˜æ˜¯éå¸¸çš„å¤šï¼Œå‚æ•°æ˜¯åœ¨å¤ªå¤šäº†ï¼ï¼
- å‚æ•°ä¹‹é—´æœ‰ä¾èµ–å…³ç³»ï¼Œæ¯”å¦‚å§å®¤ä¸€å¼€å§‹åªè®¾è®¡äº†19å¹³ç±³ï¼Œåé¢20å¹³ç±³çš„åºŠå¦‚ä½•æ”¾è¿›å»ã€‚
- å‡è®¾å¯¹è±¡ç”Ÿæˆäº†åä¸å…è®¸ä¿®æ”¹

è¿™ä¸ªæ—¶å€™å»ºé€ è€…æ¨¡å¼é—ªäº®ç™»åœºäº†  
å…·ä½“ä»£ç å¦‚ä¸‹ï¼š
```Java
package com.ymplans.patterns.builder;

/**
 * å¤§æˆ¿å­ç±»
 *
 * @author Jos
 */
public class House {

    // é¢ç§¯
    private final Double area;

    // æ¥¼å±‚
    private final Integer floor;

    // ææ–™
    private final String material;

    // ä¸­å¤®ç©ºè°ƒ
    private final Boolean centerAir;

    // å§å®¤
    private final Double bedroomArea;

    // åºŠ
    private final Double bedArea;

    @Override
    public String toString() {
        return "House{" +
                "area=" + area +
                ", floor=" + floor +
                ", material='" + material + '\'' +
                ", centerAir=" + centerAir +
                ", bedroomArea=" + bedroomArea +
                ", bedArea=" + bedArea +
                '}';
    }

    // ç§æœ‰æ„é€ æ–¹æ³•
    private House(Builder builder) {
        this.area = builder.area;
        this.bedArea = builder.bedArea;
        this.floor = builder.floor;
        this.material = builder.material;
        this.bedroomArea = builder.bedroomArea;
        this.centerAir = builder.centerAir;
    }

    // å»ºé€ è€…ç±»
    public static class Builder{
        // é¢ç§¯
        private Double area;

        // æ¥¼å±‚
        private Integer floor;

        // ææ–™
        private String material;

        // ä¸­å¤®ç©ºè°ƒ
        private Boolean centerAir;

        // å§å®¤
        private Double bedroomArea;

        // åºŠ
        private Double bedArea;

        public House build(){
            // æ ¡éªŒé€»è¾‘æ”¾åˆ°è¿™é‡Œæ¥åšï¼ŒåŒ…æ‹¬å¿…å¡«é¡¹æ ¡éªŒã€ä¾èµ–å…³ç³»æ ¡éªŒã€çº¦æŸæ¡ä»¶æ ¡éªŒç­‰
            if (area == null || floor == null || material == null || bedroomArea == null){
                throw new IllegalArgumentException("ç¼ºå°‘å¿…è¦å‚æ•°");
            }
            if (bedArea >= bedroomArea || bedroomArea >= area){
                throw new IllegalArgumentException("æˆ¿å­å»ºå¤§ç‚¹å•Š");
            }
            if (centerAir == null){
                centerAir = false;
            }
            return new House(this);
        }

        public Builder setArea(Double area) {
            if (area < 40){
                throw new IllegalArgumentException("æˆ¿å­å¤ªå°äº†ï¼Œå¯¹å¾—èµ·å†™ä»£ç çš„ä½ å—");
            }
            this.area = area;
            return this;
        }

        public Builder setFloor(Integer floor) {
            if (floor < 1){
                throw new IllegalArgumentException();
            }
            this.floor = floor;
            return this;
        }

        public Builder setMaterial(String material) {
            this.material = material;
            return this;
        }

        public Builder setCenterAir(Boolean centerAir) {
            if (centerAir == null){
                throw new IllegalArgumentException();
            }
            this.centerAir = centerAir;
            return this;
        }

        public Builder setBedroomArea(Double bedroomArea) {
            if (bedroomArea < 10){
                throw new IllegalArgumentException("å§å®¤ä¹Ÿå¿’å°äº†");
            }
            this.bedroomArea = bedroomArea;
            return this;
        }

        public Builder setBedArea(Double bedArea) {
            if (bedArea < 2){
                throw new IllegalArgumentException("åºŠä¹Ÿå¿’å°äº†");
            }
            this.bedArea = bedArea;
            return this;
        }
    }
}

class BuildMyHouse{
    public static void main(String[] args) {
        House goldHouse = new House.Builder()
                .setArea(200.0)
                .setBedroomArea(30.0)
                .setBedArea(5.0)
                .setFloor(3)
                .setMaterial("gold")
                .setCenterAir(true).build();
        System.out.println(goldHouse.toString());
    }
}
```
ä¸Šé¢ä»£ç æœ‰å‡ ä¸ªæ³¨æ„çš„åœ°æ–¹ï¼Œé¦–å…ˆæ˜¯Houseç±»çš„æ„é€ å‡½æ•°è®¾ç½®æˆäº†ç§æœ‰ï¼Œåªæä¾›äº†ä¸€ä¸ªå»ºé€ è€…ç±»Builderçš„buildæ–¹æ³•åˆ›å»ºHouseå¯¹è±¡ã€‚å…¶æ¬¡æ˜¯Builderå¯¹è±¡æä¾›äº†è®¾ç½®Houseå¯¹è±¡çš„æ‹·è´å‚æ•°ï¼Œæ‰€æœ‰çš„è¿”å›éƒ½æ˜¯Builderï¼Œå¯ä»¥é“¾å¼çš„å»è®¾ç½®å‚æ•°ï¼Œè¿™é‡Œå¯ä»¥ç†è§£ä¸ºå°†æˆ¿å­è®¾è®¡æˆå›¾çº¸ï¼Œæˆ‘ä»¬æ‰€æœ‰çš„å€¼éƒ½åªæ˜¯åœ¨å›¾çº¸ä¸Šæ“ä½œã€‚æœ€åè°ƒç”¨build()æ–¹æ³•ä¼šå¯¹è®¾ç½®çš„æ‰€æœ‰å€¼è¿›è¡Œæ ¡éªŒå¹¶åˆ›å»ºHouseå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´æ˜¯å¯¹å›¾çº¸ä¸Šçš„è®¾è®¡è¿›è¡Œæ ¡éªŒï¼Œå¦‚æœæ²¡æœ‰é—®é¢˜ï¼Œå»ºé€ è€…å°±ä¼šæŒ‰ç…§å›¾çº¸å»ºé€ æˆ¿å­ã€‚

## å»ºé€ è€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹
- ä¼˜ç‚¹
  - åˆ†æ­¥åˆ›å»ºå¯¹è±¡
  - å•ä¸€èŒè´£åŸåˆ™ï¼Œå¯ä»¥å°†å¤æ‚çš„æ„é€ ä»£ç ä»ä¸šåŠ¡é€»è¾‘ä¸­åˆ†ç¦»å‡ºæ¥
  
- ç¼ºç‚¹
  - å»ºé€ è€…çš„ä»£ç ä¼šæœ‰éƒ¨åˆ†é‡å¤ï¼Œä»£ç ç»“æ„å˜çš„è¾ƒä¸ºå¤æ‚